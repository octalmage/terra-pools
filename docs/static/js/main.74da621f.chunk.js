(this["webpackJsonpterra-pools"]=this["webpackJsonpterra-pools"]||[]).push([[0],{172:function(e,t){},580:function(e,t){},582:function(e,t){},593:function(e,t){},595:function(e,t){},607:function(e,t){},609:function(e,t){},610:function(e,t){},734:function(e,t,n){},735:function(e,t,n){},870:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(0),s=n.n(r),c=n(195),o=n.n(c),i=n(157),u=(n(734),n(7)),l=n(25),b=n(2),d=n.n(b),j=(n(735),n(39)),m=n(880),f=n(457),p=n(453),h=n(451),x=n(444),O=n(454);function v(e,t,n,a){var r=0;switch(a){case"T":r=e/1e12;break;case"B":r=e/1e9;break;case"M":r=e/1e6;break;case"K":r=e/1e3;break;case"":r=e}!1!==t&&(new RegExp("\\.\\d{"+(t+1)+",}$").test(""+r)&&(r=r.toFixed(t)));return!1!==n&&(r=Number(r).toFixed(n)),r+a}var g=n(38),k=["#0088FE","#FFBB28"];var y=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([[],[49e6,51e6],0]),o=Object(l.a)(c,2),b=o[0],y=o[1],w=Object(l.a)(b,3),F=w[0],T=w[1],S=w[2],N=Object(i.c)({url:"https://solitary-wild-log.terra-mainnet.quiknode.pro/e29ad894ff7e7809f2a3fbfa8fd658e94eb67cdf"});Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n,a,r,s,c,o,i,u,l,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.market.poolDelta();case 2:return t=e.sent,e.next=5,N.market.parameters();case 5:return n=e.sent,a=n.base_pool,r=a.plus(t),s=a.pow(2).div(r),c=r.times(1e-6).toNumber(),o=s.times(1e-6).toNumber(),i=[49e6,51e6],(c<49e6||o<49e6)&&(i=[4e7,59e6]),e.next=15,N.market.swapRate(new j.Coin("uusd",1e9),"uluna");case 15:return u=e.sent,e.next=18,N.oracle.exchangeRate("uusd");case 18:l=e.sent,b=1e3/l.amount.toNumber(),y([[{name:"Stablecoins",amt:c},{name:"LUNA",amt:o}],i,100-u.amount.times(1e-6).toNumber()/b*100]);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(e,7e3);return function(){clearTimeout(t)}}),[N.market,N.oracle]);var B=s.a.memo((function(){return Object(g.jsxs)(m.a,{style:{marginTop:"-50px"},width:800,height:400,data:F,children:[Object(g.jsxs)(f.a,{isAnimationActive:n,onAnimationEnd:function(){return a(!1)},label:!1,dataKey:"amt",children:[F.map((function(e,t){return Object(g.jsx)(p.a,{fill:k[t%20]},"cell-".concat(t))})),Object(g.jsx)(h.a,{dataKey:"name",position:"top",fill:"#000"}),Object(g.jsx)(h.a,{formatter:function(e){return t=e,n=3,a=3,r="M",t=Number(t),!1!==(r=r||!1)?v(t,n,a,r):v(t,n,a,t>=1e12?"T":t>=1e9?"B":t>=1e6?"M":t>=1e3?"K":"");var t,n,a,r},dataKey:"amt",position:"inside",fill:"#000000"})]}),Object(g.jsx)(x.a,{isFront:!1,label:{position:"top",value:"BasePool"},y:5e7,stroke:"#000"}),Object(g.jsx)(O.a,{hide:!0,type:"number",ticks:10,stroke:"#000000",interval:0,domain:T})]})}));return Object(g.jsxs)("div",{className:"App",style:{textAlign:"left",marginLeft:"auto",marginRight:"auto",maxWidth:800},children:[Object(g.jsxs)("h2",{style:{lineHeight:"1.2rem"},children:["Relationship between Luna / Terra Stable assets in the Market module",Object(g.jsx)("br",{}),Object(g.jsxs)("span",{style:{fontWeight:"normal",fontSize:"16px"},children:["(live view, updated every block):"," "]})]}),Object(g.jsx)(B,{}),Object(g.jsx)("hr",{}),Object(g.jsxs)("p",{children:["Estimated fee for a 1000 UST to Luna swap based on current pool weights: ",S.toFixed(2),"% ",Object(g.jsx)("br",{}),Object(g.jsxs)("sub",{children:["Pool values above are displayed in"," ",Object(g.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://docs.terra.money/docs/learn/glossary.html#sdr",children:"TerraSDR"}),"."]})]}),Object(g.jsxs)("p",{children:["Learn more: ",Object(g.jsx)("a",{href:"https://docs.terra.money/docs/develop/module-specifications/spec-market.html",children:"Terra docs on the Market module."})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,881)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))};Object(i.b)().then((function(e){o.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(i.a,Object(a.a)(Object(a.a)({},e),{},{children:Object(g.jsx)(y,{})}))}),document.getElementById("root"))})),w()}},[[870,1,2]]]);
//# sourceMappingURL=main.74da621f.chunk.js.map