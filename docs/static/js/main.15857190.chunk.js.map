{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["colors","App","useState","data","setData","scale","setScale","lcd","useLCDClient","useEffect","fetchPools","a","market","poolDelta","delta","parameters","base_pool","microTerraSide","plus","micraLunaSide","pow","div","terraSide","times","toNumber","lunaSide","name","amt","t","setInterval","clearTimeout","className","BarChart","width","height","Bar","isAnimationActive","label","dataKey","map","entry","index","Cell","fill","LabelList","position","ReferenceLine","isFront","value","y","stroke","YAxis","hide","type","ticks","interval","domain","style","right","top","href","loading","src","class","alt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","getChainOptions","chainOptions","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2eAMMA,EAAS,CAAC,UAAW,WAyEZC,MAvEf,WACE,MAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KACA,EAA0BF,mBAAS,CAAC,KAAU,OAA9C,mBAAOG,EAAP,KAAcC,EAAd,KACMC,EAAMC,cAqCZ,OAnCAC,qBAAU,WACR,IAAMC,EAAU,uCAAG,wCAAAC,EAAA,sEACGJ,EAAIK,OAAOC,YADd,cACXC,EADW,gBAEWP,EAAIK,OAAOG,aAFtB,gBAETC,EAFS,EAETA,UACFC,EAAiBD,EAAUE,KAAKJ,GAChCK,EAAgBH,EAAUI,IAAI,GAAGC,IAAIJ,GAErCK,EAAYL,EAAeM,MAAM,MAAUC,WAC3CC,EAAWN,EAAcI,MAAM,MAAUC,WAE/CpB,EAAQ,CACN,CACEsB,KAAM,cACNC,IAAKL,GAEP,CACEI,KAAM,OACNC,IAAKF,KAKPnB,EADEgB,EAAY,MAAYG,EAAW,KAC5B,CAAC,IAAU,KAEX,CAAC,KAAU,OAvBL,4CAAH,qDA2BhBf,IACA,IAAMkB,EAAIC,YAAYnB,EAAY,KAClC,OAAO,WACLoB,aAAaF,MAEd,CAACrB,EAAIK,SAGN,sBAAKmB,UAAU,MAAf,UACE,mCACE,+DACA,eAACC,EAAA,EAAD,CAAUC,MAAO,IAAKC,OAAQ,IAAK/B,KAAMA,EAAzC,UACE,eAACgC,EAAA,EAAD,CAAKC,mBAAmB,EAAOC,OAAO,EAAOC,QAAQ,MAArD,UACGnC,EAAKoC,KAAI,SAACC,EAAOC,GAAR,OAAkB,cAACC,EAAA,EAAD,CAA4BC,KAAM3C,EAAOyC,EAAQ,KAAjD,eAAmBA,OAC/C,cAACG,EAAA,EAAD,CAAWN,QAAQ,OAAOO,SAAS,WAGrC,cAACC,EAAA,EAAD,CACEC,SAAS,EACTV,MAAO,CAAEQ,SAAU,MAAOG,MAAO,YACjCC,EAAG,IACHC,OAAO,SAET,cAACC,EAAA,EAAD,CACEC,MAAI,EACJC,KAAK,SACLC,MAAO,GACPJ,OAAO,UACPK,SAAU,EACVC,OAAQnD,UAId,mBAAGoD,MAAO,CAAEZ,SAAU,QAASa,MAAO,EAAGC,IAAK,GAAIC,KAAK,2CAAvD,SAAkG,qBAAKC,QAAQ,OAAO5B,MAAM,MAAMC,OAAO,MAAM4B,IAAI,mGAAmGC,MAAM,4BAA4BC,IAAI,oBAAoB,mBAAiB,YC9DxTC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCEdQ,cAAkBN,MAAK,SAACO,GACtBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,2BAAoBH,GAApB,aACE,cAAC,EAAD,SAGJI,SAASC,eAAe,YAO5Bf,M","file":"static/js/main.15857190.chunk.js","sourcesContent":["import \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { useLCDClient } from \"@terra-money/wallet-provider\";\nimport React from \"react\";\nimport { BarChart, Bar, Cell, YAxis, ReferenceLine, LabelList } from \"recharts\";\n\nconst colors = [\"#0088FE\", \"#FFBB28\"];\n\nfunction App() {\n  const [data, setData] = useState([]);\n  const [scale, setScale] = useState([49000000, 51000000]);\n  const lcd = useLCDClient();\n\n  useEffect(() => {\n    const fetchPools = async () => {\n      const delta = await lcd.market.poolDelta();\n      const { base_pool } = await lcd.market.parameters();\n      const microTerraSide = base_pool.plus(delta);\n      const micraLunaSide = base_pool.pow(2).div(microTerraSide);\n      \n      const terraSide = microTerraSide.times(0.000001).toNumber()\n      const lunaSide = micraLunaSide.times(0.000001).toNumber()\n\n      setData([\n        {\n          name: \"Stablecoins\",\n          amt: terraSide,\n        },\n        {\n          name: \"LUNA\",\n          amt: lunaSide,\n        },\n      ]);\n\n      if (terraSide < 49000000 || lunaSide < 49000000) {\n        setScale([40000000, 60000000]);\n      } else {\n        setScale([49000000, 51000000]);\n      }\n    };\n\n    fetchPools();\n    const t = setInterval(fetchPools, 7000);\n    return () => {\n      clearTimeout(t);\n    };\n  }, [lcd.market]);\n\n  return (\n    <div className=\"App\">\n      <center>\n        <h1>Terra Virtual Liquidity Pools</h1>\n        <BarChart width={800} height={400} data={data}>\n          <Bar isAnimationActive={false} label={false} dataKey=\"amt\">\n            {data.map((entry, index) => <Cell key={`cell-${index}`} fill={colors[index % 20]} />)}\n            <LabelList dataKey=\"name\" position=\"top\" />\n            {/* <LabelList dataKey=\"amt\" position=\"inside\" fill=\"#000000\" /> */}\n          </Bar>\n          <ReferenceLine\n            isFront={false}\n            label={{ position: \"top\", value: \"BasePool\" }}\n            y={50000000}\n            stroke=\"#000\"\n          />\n          <YAxis\n            hide\n            type=\"number\"\n            ticks={10}\n            stroke=\"#000000\"\n            interval={0}\n            domain={scale}\n          />\n        </BarChart>\n      </center>\n      <a style={{ position: 'fixed', right: 0, top: 0}} href=\"https://github.com/octalmage/terra-pools\"><img loading=\"lazy\" width=\"149\" height=\"149\" src=\"https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149\" class=\"attachment-full size-full\" alt=\"Fork me on GitHub\" data-recalc-dims=\"1\" /></a>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { getChainOptions, WalletProvider } from '@terra-money/wallet-provider'\n\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\ngetChainOptions().then((chainOptions) => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <WalletProvider {...chainOptions}>\n        <App />\n      </WalletProvider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n  )\n})\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}