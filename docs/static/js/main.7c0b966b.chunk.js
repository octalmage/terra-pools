(this["webpackJsonpterra-pools"]=this["webpackJsonpterra-pools"]||[]).push([[0],{172:function(e,t){},580:function(e,t){},582:function(e,t){},593:function(e,t){},595:function(e,t){},607:function(e,t){},609:function(e,t){},610:function(e,t){},734:function(e,t,n){},735:function(e,t,n){},870:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(0),c=n.n(r),i=n(195),o=n.n(i),s=n(157),u=(n(734),n(7)),l=n(25),b=n(2),m=n.n(b),d=(n(735),n(38)),f=n(880),j=n(457),p=n(453),h=n(451),x=n(444),O=n(454);function v(e,t,n,a){var r=0;switch(a){case"T":r=e/1e12;break;case"B":r=e/1e9;break;case"M":r=e/1e6;break;case"K":r=e/1e3;break;case"":r=e}!1!==t&&(new RegExp("\\.\\d{"+(t+1)+",}$").test(""+r)&&(r=r.toFixed(t)));return!1!==n&&(r=Number(r).toFixed(n)),r+a}var k=n(42),g=["#0088FE","#FFBB28"];var w=function(){var e=Object(r.useState)(!0),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)([[],[49e6,51e6],0]),o=Object(l.a)(i,2),b=o[0],w=o[1],y=Object(l.a)(b,3),F=y[0],T=y[1],N=y[2],S=Object(s.c)({url:"https://solitary-wild-log.terra-mainnet.quiknode.pro/e29ad894ff7e7809f2a3fbfa8fd658e94eb67cdf"});Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(m.a.mark((function e(){var t,n,a,r,c,i,o,s,u,l,b;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.market.poolDelta();case 2:return t=e.sent,e.next=5,S.market.parameters();case 5:return n=e.sent,a=n.base_pool,r=a.plus(t),c=a.pow(2).div(r),i=r.times(1e-6).toNumber(),o=c.times(1e-6).toNumber(),s=[49e6,51e6],(i<49e6||o<49e6)&&(s=[4e7,59e6]),e.next=15,S.market.swapRate(new d.Coin("uusd",1e9),"uluna");case 15:return u=e.sent,e.next=18,S.oracle.exchangeRate("uusd");case 18:l=e.sent,b=1e3/l.amount.toNumber(),w([[{name:"Stablecoins",amt:i},{name:"LUNA",amt:o}],s,100-u.amount.times(1e-6).toNumber()/b*100]);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=setInterval(e,7e3);return function(){clearTimeout(t)}}),[S.market,S.oracle]);var B=c.a.memo((function(){return Object(k.jsxs)(f.a,{style:{marginTop:"-100px"},width:800,height:400,data:F,children:[Object(k.jsxs)(j.a,{isAnimationActive:n,onAnimationEnd:function(){return a(!1)},label:!1,dataKey:"amt",children:[F.map((function(e,t){return Object(k.jsx)(p.a,{fill:g[t%20]},"cell-".concat(t))})),Object(k.jsx)(h.a,{dataKey:"name",position:"top",fill:"#000"}),Object(k.jsx)(h.a,{formatter:function(e){return t=e,n=3,a=3,r="M",t=Number(t),!1!==(r=r||!1)?v(t,n,a,r):v(t,n,a,t>=1e12?"T":t>=1e9?"B":t>=1e6?"M":t>=1e3?"K":"");var t,n,a,r},dataKey:"amt",position:"inside",fill:"#000000"})]}),Object(k.jsx)(x.a,{isFront:!1,label:{position:"top",value:"BasePool"},y:5e7,stroke:"#000"}),Object(k.jsx)(O.a,{hide:!0,type:"number",ticks:10,stroke:"#000000",interval:0,domain:T})]})}));return Object(k.jsxs)("div",{className:"App",style:{textAlign:"left",marginLeft:"auto",marginRight:"auto",maxWidth:800},children:[Object(k.jsxs)("h2",{style:{lineHeight:"1rem"},children:["Relationship between Luna / Terra Stable assets in the Market module",Object(k.jsx)("br",{}),Object(k.jsxs)("span",{style:{fontWeight:"normal",fontSize:"16px"},children:["(live view, updated every block):"," "]})]}),Object(k.jsx)(B,{}),Object(k.jsx)("hr",{}),Object(k.jsxs)("p",{children:["Estimated fee for a 1000 UST to Luna swap: ",N.toFixed(2),"%"]}),Object(k.jsxs)("p",{children:["Learn more: ",Object(k.jsx)("a",{href:"https://docs.terra.money/docs/develop/module-specifications/spec-market.html",children:"Terra docs on the Market module."})]})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,881)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};Object(s.b)().then((function(e){o.a.render(Object(k.jsx)(c.a.StrictMode,{children:Object(k.jsx)(s.a,Object(a.a)(Object(a.a)({},e),{},{children:Object(k.jsx)(w,{})}))}),document.getElementById("root"))})),y()}},[[870,1,2]]]);
//# sourceMappingURL=main.7c0b966b.chunk.js.map